<ScreenManager>:
    id: sm
    InicioSesionScreen:
        name: 'inicio_sesion_screen'
    CamaraScreen:
        name: 'camara_screen'

<InicioSesionScreen>:
    cols: 1

    BoxLayout:
        orientation: 'vertical'
        padding: dp(20)
        spacing: dp(10)
        size_hint_y: None # Permite que el BoxLayout crezca verticalmente
        height: self.minimum_height # Ajusta la altura al contenido
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        Image:
            source: 'assets/images/logo_utp.png'
            size_hint_y: None
            height: dp(50)
            pos_hint: {'center_x': 0.5}

        Label:
            text: "Bienvenido de nuevo!"
            font_size: dp(24)
            halign: 'center'
            size_hint_y: None
            text_size: self.width - dp(20), None
            valign: 'top' # Alinea el texto en la parte superior si ocupa varias líneas
            height: self.texture_size[1] + dp(10)
            padding: dp(20), dp(10), dp(20), 0

        Label:
            text: "Ingresa las credenciales correctas de administrador para comenzar con el uso del sistema"
            font_size: dp(16)
            halign: 'center'
            size_hint_y: None
            text_size: self.width - dp(14), None
            valign: 'top'
            padding: dp(20), 0, dp(20), dp(10)
            height: self.texture_size[1] + dp(20)

        GridLayout:
            cols: 2
            spacing: dp(20)
            padding: dp(20), dp(10)
            size_hint_y: None
            height: self.minimum_height # Ajusta la altura al contenido

            Label:
                text: "Salón:"
                halign: 'left'
                size_hint_y: None
                text_size: self.width - dp(14), None
                valign: 'top'
                padding: dp(10), dp(10)
                height: self.texture_size[1] + dp(10)
            FloatLayout:
                canvas.before:
                    Color:
                        rgba: (217/255, 217/255, 217/255, 1)  # Color de fondo gris claro
                    RoundedRectangle:
                        pos: self.x, self.y - dp(5)
                        size: self.width, self.height - dp(10)
                        radius: [dp(10)]  # Radio de las esquinas redondeadas
                TextInput:
                    id: salon_input
                    multiline: False
                    size_hint: 1, None
                    height: dp(30)
                    pos_hint: {'x': 0, 'y': 0}
                    border: (1, 1, 1, 1)
                    background_color: (0, 0, 0, 0)


            Label:
                text: "Código de Administrador:"
                halign: 'left'
                size_hint_y: None
                text_size: self.width - dp(14), None
                valign: 'top'
                padding: dp(10), dp(10)
                height: self.texture_size[1] + dp(10)
            FloatLayout:
                canvas.before:
                    Color:
                        rgba: (217/255, 217/255, 217/255, 1)  # Color de fondo gris claro
                    RoundedRectangle:
                        pos: self.x, self.y - dp(5)
                        size: self.width + dp(5), self.height - dp(10)
                        radius: [dp(10)]  # Radio de las esquinas redondeadas
                TextInput:  # Campo de entrada para el salón
                    id: codigo_admin_input
                    multiline: False
                    password: True
                    size_hint: 1, None
                    height: dp(30)
                    pos_hint: {'x': 0, 'y': 0}  # Posición absoluta dentro del FloatLayout
                    border: (1, 1, 1, 1)
                    background_color: (0, 0, 0, 0)

        Button:
            text: "Guardar Configuración"
            font_size: dp(18)
            size_hint_y: None
            height: dp(40)
            on_press: root.validar_y_abrir_camara()
            background_color: (1, 81/255, 57/255, 0)
            canvas.before:
                Color:
                    rgba: (181/255, 13/255, 48/255, 1)
                RoundedRectangle:
                    pos: self.x, self.y - dp(5)
                    size: self.width + dp(5), self.height + dp(10)
                    radius: [dp(10)]


<CamaraScreen>:
    name: 'camara_screen'
